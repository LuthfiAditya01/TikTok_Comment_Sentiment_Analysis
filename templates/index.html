<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Report Analisis Sentimen Komentar</title>
  <link rel="shortcut icon" href="static/img/logo.svg" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-100 text-gray-800 font-sans leading-relaxed p-6">
    <h1 class="text-5xl font-bold text-gray-900 mb-4">Analisis Sentimen Komentar</h1>
    <p class="mb-6 text-lg">
      Halaman ini menampilkan hasil analisis teks komentar publik menggunakan pendekatan TF-IDF, 
      lengkap dengan visualisasi distribusi sentimen, word cloud, dan daftar kata teratas.
    </p>
  
    <div data-aos="fade-up" class="bg-white rounded-lg shadow-md p-6 mb-10">
      <h2 class="text-4xl font-semibold text-gray-800 mb-4">1. Distribusi Sentimen</h2>
      <div class="flex justify-center mb-4">
        <canvas id="distribusiSentimenChart" width="400" height="200"></canvas>
      </div>
      <p class="text-gray-700">
        Grafik di atas menunjukkan jumlah komentar yang dilabeli <em>positif</em> (jumlah like/upvote ≥ 10) 
        versus <em>negatif</em> (jumlah like/upvote < 10). Dari sini, Anda dapat melihat proporsi komentar 
        berdasarkan kriteria sederhana yang diterapkan pada kolom <code class="bg-gray-100 px-1 rounded text-sm">diggCount</code>.
      </p>
    </div>
  
    <div data-aos="fade-up" class="bg-white rounded-lg shadow-md p-6 mb-10">
      <h2 class="text-4xl font-semibold text-gray-800 mb-4">2. Word Cloud TF-IDF (Unigram)</h2>
      <div class="flex justify-center mb-4">
        <img src="static/img/wordcloud_tfidf.png" alt="Word Cloud TF-IDF"
             class="max-w-full border border-gray-200 rounded-md bg-white p-2" />
      </div>
      <p class="text-gray-700">
        Word cloud ini menampilkan kata-kata yang dianggap paling "informatif" menurut skor TF-IDF 
        (menghitung bobot per kata dalam korpus). Ukuran kata di dalam cloud berkorelasi langsung 
        dengan total bobot TF-IDF-nya—semakin besar, semakin tinggi bobotnya.
      </p>
    </div>
  
    <div data-aos="fade-up" class="bg-white rounded-lg shadow-md p-6 mb-10">
      <h2 class="text-4xl font-semibold text-gray-800 mb-4">3. 20 Kata Unigram Teratas berdasarkan TF-IDF</h2>
      <div class="flex justify-center mb-4">
        <canvas id="top20TfidfChart" width="600" height="400"></canvas>
      </div>
      <p class="text-gray-700">
        Bar chart di atas memperlihatkan 20 kata unigram dengan nilai TF-IDF tertinggi 
        berdasarkan seluruh dokumen. Ini membantu mengidentifikasi istilah-istilah kunci 
        yang paling berkontribusi dalam membedakan masing-masing komentar.
      </p>
    </div>
  
    <div data-aos="fade-up" class="bg-white rounded-lg shadow-md p-6 mb-10">
      <h2 class="text-4xl font-semibold text-gray-800 mb-4">4. Cosine Similarity Report</h2>
      <div class="flex justify-center mb-4">
        <img src="static/img/cosine_similarity.png" alt="Cosine Similarity Report"
             class="max-w-full border border-gray-200 rounded-md bg-white p-2">
      </div>
      <p class="text-gray-700">
        Grafik di atas menunjukkan hasil analisis cosine similarity antar dokumen. Cosine similarity digunakan untuk mengukur kemiripan antara dua dokumen berdasarkan vektor fitur mereka. Semakin tinggi nilai cosine similarity, semakin mirip dokumen tersebut.
      </p>
    </div>
  
    <footer class="text-center text-gray-600 text-sm mt-12">
      © 2025 Proyek Analisis Sentimen Komentar. Dibuat oleh [Nama Anda]
    </footer>

    <script>
        AOS.init({
            duration: 1000,
            once: false,
            offset: 100,
            easing: 'ease-in-out',
            mirror: false,
            anchorPlacement: 'top-bottom',
            disable: false,
        });
      // 1. Distribusi Sentimen Chart
      const ctx1 = document.getElementById('distribusiSentimenChart').getContext('2d');
      const distribusiSentimenChart = new Chart(ctx1, {
        type: 'bar',
        data: {
          labels: ['Netral', 'Positif', 'Negatif'],
          datasets: [{
            label: 'Jumlah Komentar',
            data: [97.89, 1.10, 1],
            backgroundColor: ['#3B82F6', '#10B981', '#EF4444'],
            borderColor: ['#2563EB', '#059669', '#DC2626'],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: 'Distribusi Sentimen Komentar'
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Jumlah Komentar'
              }
            },
            x: {
              title: {
                display: true,
                text: 'Sentimen'
              }
            }
          }
        }
      });

      // 2. Top 20 TF-IDF Chart
      const ctx2 = document.getElementById('top20TfidfChart').getContext('2d');
      const top20TfidfChart = new Chart(ctx2, {
        type: 'bar',
        data: {
          labels: ['indonesia', 'gelap', 'demo', 'mahasiswa','prabowo','rakyat','mahasewa','ampas','negara','semua','presiden','gin','takut','perintah','milih','hidup','makan','tuntut','kerja','banyak'],
          datasets: [{
            label: 'Skor TF-IDF',
            data: [27.7096, 27.6496, 26.6433, 22.9754, 17.6900, 17.4957, 17.1985, 17.1985, 17.0251, 14.5436, 10.8321, 10.3737, 9.5876, 9.0292, 7.6814, 7.6282, 7.4595, 6.9092, 6.5023, 6.4321],
            backgroundColor: '#3B82F6',
            borderColor: '#2563EB',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          indexAxis: 'x',
          plugins: {
            title: {
              display: true,
              text: '20 Kata Teratas berdasarkan Skor TF-IDF'
            }
          },
          scales: {
            x: {
              title: {
                display: true,
                text: 'Kata'
              }
            },
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Skor TF-IDF'
              }
            }
          }
        }
      });

      // 3. Cosine Similarity Heatmap (using scatter chart with point styling)
      const ctx3 = document.getElementById('cosineSimilarityChart').getContext('2d');
      
      // Generate sample data for heatmap (simplified version)
      const generateHeatmapData = () => {
        const data = [];
        const size = 50; // 50x50 matrix
        
        for (let i = 0; i < size; i++) {
          for (let j = 0; j < size; j++) {
            let similarity;
            if (i === j) {
              similarity = 1; // diagonal
            } else {
              // Generate some realistic similarity values
              const distance = Math.abs(i - j);
              similarity = Math.max(0, 1 - (distance / size) - Math.random() * 0.8);
            }
            
            data.push({
              x: i,
              y: j,
              v: similarity
            });
          }
        }
        return data;
      };

      const heatmapData = generateHeatmapData();
      
      const cosineSimilarityChart = new Chart(ctx3, {
        type: 'scatter',
        data: {
          datasets: [{
            label: 'Cosine Similarity',
            data: heatmapData,
            backgroundColor: function(context) {
              const value = context.parsed.v || 0;
              const alpha = value;
              return `rgba(128, 0, 128, ${alpha})`;
            },
            borderColor: function(context) {
              const value = context.parsed.v || 0;
              const alpha = value;
              return `rgba(128, 0, 128, ${alpha})`;
            },
            pointRadius: 3
          }]
        },
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
              text: 'Cosine Similarity antar Komentar'
            },
            legend: {
              display: false
            }
          },
          scales: {
            x: {
              type: 'linear',
              position: 'bottom',
              title: {
                display: true,
                text: 'Index Komentar'
              },
              min: 0,
              max: 49
            },
            y: {
              title: {
                display: true,
                text: 'Index Komentar'
              },
              min: 0,
              max: 49
            }
          }
        }
      });
    </script>
  </body>
</html>
